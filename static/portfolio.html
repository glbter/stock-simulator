<!DOCTYPE html>
<meta charset="utf-8">
<html lang="uk">
<head>
  <title>Симулятор інвестицій</title>
  <link rel="stylesheet" type="text/css" href="style_main.css">
  <style>
  </style>
</head>
<body>
<header>
  <h1>Симулятор інвестицій</h1>
</header>
<main>

  <div class="container">
    <div class="stock-panel">
      <h2>Інвестиційни портфель</h2>

      <ul class="stock-list" id="stockList">
        <li>
          <span>Stock Symbol</span>
          <span>Quantity</span>
        </li>
        <!-- Repeat list items for each stock in the portfolio -->
      </ul>
    </div>
  </div>
</main>


<!-- Auth0 Lock library for authentication -->
<!--<script src="https://cdn.auth0.com/js/lock/12.0.2/lock.min.js"></script>-->
<script>
  // Function to fetch stock data and populate the list
  async function fetchStockData() {
    try {
      // Simulated stock data
      const data = [
        {
          "Ticker": {
            "ID": "3439d561-b4db-4455-aff9-da2119573574",
            "Name": "AAPL2",
            "Description": ""
          },
          "High": 3,
          "Low": 2,
          "Open": 4,
          "Close": 5,
          "Volume": 0,
          "DataDate": "2010-01-20T00:00:00Z"
        },
        {
          "Ticker": {
            "ID": "aad17418-6764-4ecd-90ed-bb1d7091edcc",
            "Name": "AAPL",
            "Description": ""
          },
          "High": 63,
          "Low": 57,
          "Open": 19.5,
          "Close": 20,
          "Amount": 3,
          "DataDate": "2023-05-26T00:00:00Z"
        }, {
          "Ticker": {
            "ID": "aad17418-6764-4ecd-90ed-bb1d7091edcc",
            "Name": "TSLA",
            "Description": ""
          },
          "High": 105,
          "Low": 95,
          "Open": 19.5,
          "Close": 20,
          "Amount": 5,
          "DataDate": "2023-05-26T00:00:00Z"
        }

      ];

      // Get the stock list element
      const stockList = document.getElementById('stockList');

      // Clear any existing stock items
      stockList.innerHTML = '';

      // Create list item elements
      const listItem = document.createElement('li');
      const symbolSpan = document.createElement('span');
      const priceHighSpan = document.createElement('span');
      const changeLowSpan = document.createElement('span');
      const amountSpan = document.createElement('span');


      // Set the stock data to the element text content
      symbolSpan.textContent = "Код активу";
      priceHighSpan.textContent = "Вища ціна";
      changeLowSpan.textContent = "Нижча ціна";
      amountSpan.textContent = "Кількість";


      // Append the spans to the list item
      listItem.appendChild(symbolSpan);
      listItem.appendChild(priceHighSpan);
      listItem.appendChild(changeLowSpan);
      listItem.appendChild(amountSpan);


      // Append the list item to the stock list
      stockList.appendChild(listItem);



      // Create list item elements
      const listItem2 = document.createElement('li');
      const symbolSpan2 = document.createElement('span');
      const priceHighSpan2 = document.createElement('span');
      const changeLowSpan2 = document.createElement('span');
      const amountSpan2 = document.createElement('span');


      // Set the stock data to the element text content
      symbolSpan2.textContent = "";
      priceHighSpan2.textContent = "168₴";
      changeLowSpan2.textContent = "152₴";
      amountSpan2.textContent = 8;



      // Append the spans to the list item
      listItem2.appendChild(symbolSpan2);
      listItem2.appendChild(priceHighSpan2);
      listItem2.appendChild(changeLowSpan2);
      listItem2.appendChild(amountSpan2);


      // Append the list item to the stock list
      stockList.appendChild(listItem2);

      // Iterate through the stock data and create list items
      data.forEach(stock => {
        const { Ticker, High, Low, Open, Close, Amount } = stock;
        const { ID, Name, Description } = Ticker;

        // Create list item elements
        const listItem = document.createElement('li');
        const symbolSpan = document.createElement('span');
        const priceHighSpan = document.createElement('span');
        const changeLowSpan = document.createElement('span')
        const amountSpan = document.createElement('span');

        // Set the stock data to the element text content
        symbolSpan.textContent = Name;
        priceHighSpan.textContent = High+'₴';
        changeLowSpan.textContent = Low+'₴';
        amountSpan.textContent = Amount;

        // Append the spans to the list item
        listItem.appendChild(symbolSpan);
        listItem.appendChild(priceHighSpan);
        listItem.appendChild(changeLowSpan);
        listItem.appendChild(amountSpan);


        // Append the list item to the stock list
        stockList.appendChild(listItem);
      });
    } catch (error) {
      console.log('Error fetching stock data:', error);
    }
  }

  fetchStockData();
</script>

</body>
</html>
